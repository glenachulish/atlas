{
  "id": "atlas-test",
  "title": { 
    "en": "Atlas Points of Interest",
    "gd": "Atlas Puingean √ôidh"
  },
  "description": { 
    "en": "Add points of interest with name, description, photo, URL, and tags. <a href='https://glenachulish.github.io/atlas/contribute_en.html' target='_blank' rel='noopener'>View instructions</a>",
    "gd": "Cuir puingean √πidh ris le ainm, tuairisgeul, dealbh, URL, agus tagaichean. <a href='https://glenachulish.github.io/atlas/contribute_gd.html' target='_blank' rel='noopener'>Seall sti√πireadh</a>"
  },
  "welcomeMessage": { 
    "en": "üëã Tap + to add a point of interest. <a href='https://glenachulish.github.io/atlas/contribute_en.html' target='_blank' rel='noopener'>Need help?</a>",
    "gd": "üëã Thoir gnogag air + gus puing √πidh a chur ris. <a href='https://glenachulish.github.io/atlas/contribute_gd.html' target='_blank' rel='noopener'>A bheil feum air taic?</a>"
  },
  "icon": "https://glenachulish.github.io/atlas/icons/atlas_castle.svg",
  "startWithLayer": "poi",
  "enableMoreQuests": true,
  "enableAddNewPoints": true,
  "enableGeolocation": true,
  "enableLayers": true,
  "enableSearch": true,
  "enableUserBadge": true,
  "enableShareScreen": true,
  "enableMorePrivacy": false,
  "backgroundLayers": [
    {
      "id": "osm-default",
      "name": { "en": "OpenStreetMap" },
      "url": "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
      "attribution": "¬© OpenStreetMap contributors",
      "maxZoom": 19
    }
  ],
  "layers": [
    {
      "id": "poi",
      "name": { "en": "Point of Interest" },
      "source": { "osmTags": "atlas_poi=yes", "geometry": "point" },
      "title": { "en": "{name}" },
      "allowAdd": true,
      "allowMove": true,
      "pointRendering": [
        {
          "location": ["point"],
          "icon": "https://glenachulish.github.io/atlas/icons/atlas_castle.svg",
          "iconSize": "40,40",
          "anchor": "center",
          "label": "{name}"
        }
      ],
      "lineRendering": [
        { "color": "#00000000", "width": 0 }
      ],
      "areaRendering": [
        { "fillColor": "#00000000", "strokeColor": "#00000000", "strokeWidth": 0 }
      ],
      "tagRenderings": [
        {
          "id": "poi-name",
          "question": { 
            "en": "What is this place called?",
            "gd": "D√® an t-ainm a th' air an √†ite seo?"
          },
          "freeform": { "key": "name" },
          "render": { 
            "en": "<strong>Name:</strong> {name}",
            "gd": "<strong>Ainm:</strong> {name}"
          }
        },
        {
          "id": "poi-description",
          "question": { 
            "en": "Add a description (up to 1000 words)",
            "gd": "Cuir tuairisgeul ris (suas ri 1000 facal)"
          },
          "freeform": { 
            "key": "description",
            "type": "text"
          },
          "questionHint": {
            "en": "You can write up to 1000 words describing this location, its history, significance, or any other relevant information.",
            "gd": "Faodaidh tu suas ri 1000 facal a sgr√¨obhadh a' toirt cunntas air an √†ite seo, an eachdraidh, an cudromachd, no fiosrachadh sam bith eile a tha buntainneach."
          },
          "render": { 
            "en": "<strong>Description:</strong><br/>{description}",
            "gd": "<strong>Tuairisgeul:</strong><br/>{description}"
          }
        },
        {
          "builtin": "images"
        },
        {
          "id": "poi-wikimedia-helper",
          "question": {
            "en": "Add Wikimedia Commons images",
            "gd": "Cuir dealbhan Wikimedia Commons ris"
          },
          "render": {
            "en": "<div style='border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #f9f9f9;'>\n  <h4 style='margin-top: 0;'>üì∑ Wikimedia Commons Images</h4>\n  <p><strong>Easy way to find images:</strong></p>\n  <ol style='padding-left: 20px;'>\n    <li>Go to <a href='https://commons.wikimedia.org' target='_blank'>commons.wikimedia.org</a></li>\n    <li>Search for your topic (e.g., \"Scottish castle\", \"Highland landscape\")</li>\n    <li>Copy the <strong>exact file name</strong> (starts with \"File:\")</li>\n    <li>Paste it in the field below</li>\n    <li>Add multiple files separated by commas</li>\n  </ol>\n  <p><em>Example: File:Eilean Donan Castle.jpg, File:Scottish highlands landscape.jpg</em></p>\n  <div style='background: white; padding: 10px; border-radius: 4px; margin-top: 10px;'>\n    <strong>Selected Wikimedia files will appear here:</strong>\n    <div id='wikimedia-preview' style='margin-top: 10px;'></div>\n  </div>\n</div>\n<script>\n// Simple preview of Wikimedia Commons images\nfunction updateWikimediaPreview() {\n  const field = document.querySelector('[data-tag-key=\"wikimedia_commons\"] input');\n  const preview = document.getElementById('wikimedia-preview');\n  \n  if (field && field.value) {\n    const files = field.value.split(',').map(f => f.trim()).filter(f => f);\n    preview.innerHTML = files.map(file => {\n      const cleanName = file.replace('File:', '');\n      const thumbUrl = `https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(cleanName)}?width=100`;\n      return `<div style='display: inline-block; margin: 5px; text-align: center;'>\n        <img src=\"${thumbUrl}\" style='width: 80px; height: 60px; object-fit: cover; border-radius: 4px;' onerror=\"this.style.display='none'\">\n        <div style='font-size: 10px; max-width: 80px; overflow: hidden; text-overflow: ellipsis;'>${cleanName}</div>\n      </div>`;\n    }).join('');\n  } else {\n    preview.innerHTML = '<em style=\"color: #666;\">No images selected yet</em>';\n  }\n}\n\n// Update preview when field changes\ndocument.addEventListener('input', function(e) {\n  if (e.target && e.target.closest('[data-tag-key=\"wikimedia_commons\"]')) {\n    setTimeout(updateWikimediaPreview, 100);\n  }\n});\n\n// Initial update\nsetTimeout(updateWikimediaPreview, 500);\n</script>",
            "gd": "<div style='border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #f9f9f9;'>\n  <h4 style='margin-top: 0;'>üì∑ Dealbhan Wikimedia Commons</h4>\n  <p><strong>D√≤igh furasta air dealbhan a lorg:</strong></p>\n  <ol style='padding-left: 20px;'>\n    <li>Rach gu <a href='https://commons.wikimedia.org' target='_blank'>commons.wikimedia.org</a></li>\n    <li>Lorg an cuspair agad (m.e., \"caisteal Albannach\", \"cruth-t√¨re G√†idhealach\")</li>\n    <li>D√®an lethbhreac dhen <strong>ainm faidhle ceart</strong> (a' t√≤iseachadh le \"File:\")</li>\n    <li>Cuir e sa raon gu h-√¨osal</li>\n    <li>Cuir iomadh faidhle ris le cromagan gan sgaradh</li>\n  </ol>\n  <p><em>Eisimpleir: File:Eilean Donan Castle.jpg, File:Scottish highlands landscape.jpg</em></p>\n  <div style='background: white; padding: 10px; border-radius: 4px; margin-top: 10px;'>\n    <strong>Nochdaidh faidhlichean Wikimedia Commons taghte an seo:</strong>\n    <div id='wikimedia-preview' style='margin-top: 10px;'></div>\n  </div>\n</div>\n<script>\n// Simple preview of Wikimedia Commons images\nfunction updateWikimediaPreview() {\n  const field = document.querySelector('[data-tag-key=\"wikimedia_commons\"] input');\n  const preview = document.getElementById('wikimedia-preview');\n  \n  if (field && field.value) {\n    const files = field.value.split(',').map(f => f.trim()).filter(f => f);\n    preview.innerHTML = files.map(file => {\n      const cleanName = file.replace('File:', '');\n      const thumbUrl = `https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(cleanName)}?width=100`;\n      return `<div style='display: inline-block; margin: 5px; text-align: center;'>\n        <img src=\"${thumbUrl}\" style='width: 80px; height: 60px; object-fit: cover; border-radius: 4px;' onerror=\"this.style.display='none'\">\n        <div style='font-size: 10px; max-width: 80px; overflow: hidden; text-overflow: ellipsis;'>${cleanName}</div>\n      </div>`;\n    }).join('');\n  } else {\n    preview.innerHTML = '<em style=\"color: #666;\">Cha deach dealbh a thaghadh fhathast</em>';\n  }\n}\n\n// Update preview when field changes\ndocument.addEventListener('input', function(e) {\n  if (e.target && e.target.closest('[data-tag-key=\"wikimedia_commons\"]')) {\n    setTimeout(updateWikimediaPreview, 100);\n  }\n});\n\n// Initial update\nsetTimeout(updateWikimediaPreview, 500);\n</script>"
          }
        },
        {
          "id": "poi-wikimedia",
          "question": {
            "en": "Enter Wikimedia Commons file names (comma-separated)",
            "gd": "Cuir a-steach ainmean faidhle Wikimedia Commons (sgaraichte le cromagan)"
          },
          "freeform": {
            "key": "wikimedia_commons"
          },
          "render": {
            "en": "<strong>Wikimedia Commons Images:</strong><br/>{wikimedia_commons}",
            "gd": "<strong>Dealbhan Wikimedia Commons:</strong><br/>{wikimedia_commons}"
          },
          "questionHint": {
            "en": "Enter Wikimedia Commons file names like 'File:Example.jpg'. For multiple images, separate with commas. Use the helper above to easily find and preview images.",
            "gd": "Cuir a-steach ainmean faidhle Wikimedia Commons leithid 'File:Example.jpg'. Airson iomadh dealbh, sgaraich le cromagan. Cleachd an neach-cuideachaidh gu h-√†rd gus dealbhan a lorg agus ro-shealladh fhaicinn."
          }
        },
        {
          "id": "poi-url",
          "question": { 
            "en": "Add a website URL",
            "gd": "Cuir URL l√†rach-l√¨n ris"
          },
          "freeform": { "key": "website" },
          "render": { 
            "en": "<strong>Website:</strong> <a href='{website}' target='_blank' rel='noopener'>{website}</a>",
            "gd": "<strong>L√†rach-l√¨n:</strong> <a href='{website}' target='_blank' rel='noopener'>{website}</a>"
          },
          "questionHint": {
            "en": "Enter a website URL (e.g., https://example.com)",
            "gd": "Cuir a-steach URL l√†rach-l√¨n (m.e., https://example.com)"
          }
        },
        {
          "id": "poi-url-2",
          "question": { 
            "en": "Add another website URL",
            "gd": "Cuir URL l√†rach-l√¨n eile ris"
          },
          "freeform": { "key": "contact:website" },
          "render": { 
            "en": "<strong>Website 2:</strong> <a href='{contact:website}' target='_blank' rel='noopener'>{contact:website}</a>",
            "gd": "<strong>L√†rach-l√¨n 2:</strong> <a href='{contact:website}' target='_blank' rel='noopener'>{contact:website}</a>"
          },
          "condition": "website~*"
        },
        {
          "id": "poi-url-3",
          "question": { 
            "en": "Add another website URL",
            "gd": "Cuir URL l√†rach-l√¨n eile ris"
          },
          "freeform": { "key": "url" },
          "render": { 
            "en": "<strong>Website 3:</strong> <a href='{url}' target='_blank' rel='noopener'>{url}</a>",
            "gd": "<strong>L√†rach-l√¨n 3:</strong> <a href='{url}' target='_blank' rel='noopener'>{url}</a>"
          },
          "condition": "contact:website~*"
        },
        {
          "id": "poi-url-4",
          "question": { 
            "en": "Add another website URL",
            "gd": "Cuir URL l√†rach-l√¨n eile ris"
          },
          "freeform": { "key": "source:url" },
          "render": { 
            "en": "<strong>Website 4:</strong> <a href='{source:url}' target='_blank' rel='noopener'>{source:url}</a>",
            "gd": "<strong>L√†rach-l√¨n 4:</strong> <a href='{source:url}' target='_blank' rel='noopener'>{source:url}</a>"
          },
          "condition": "url~*"
        },
        {
          "id": "poi-url-5",
          "question": { 
            "en": "Add another website URL",
            "gd": "Cuir URL l√†rach-l√¨n eile ris"
          },
          "freeform": { "key": "ref:url" },
          "render": { 
            "en": "<strong>Website 5:</strong> <a href='{ref:url}' target='_blank' rel='noopener'>{ref:url}</a>",
            "gd": "<strong>L√†rach-l√¨n 5:</strong> <a href='{ref:url}' target='_blank' rel='noopener'>{ref:url}</a>"
          },
          "condition": "source:url~*"
        },
        {
          "id": "poi-tags",
          "question": { 
            "en": "Add tags (e.g. geology, nature)",
            "gd": "Cuir tagaichean ris (m.e. ge√≤las, n√†dar)"
          },
          "freeform": { "key": "tags" },
          "render": { 
            "en": "<strong>Tags:</strong> {tags}",
            "gd": "<strong>Tagaichean:</strong> {tags}"
          }
        }
      ],
      "presets": [
        {
          "title": { 
            "en": "Add Point of Interest",
            "gd": "Cuir Puing √ôidh Ris"
          },
          "tags": ["atlas_poi=yes", "name="],
          "description": { 
            "en": "Add a new point of interest to the map",
            "gd": "Cuir puing √πidh √πr ris a' mhapa"
          },
          "snapToLayer": [],
          "maxSnapDistance": 0
        }
      ]
    }
  ]
}
